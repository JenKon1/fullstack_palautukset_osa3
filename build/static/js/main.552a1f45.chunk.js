(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),u=t(14),r=t.n(u),i=t(3),o=t(4),s=t.n(o),l="/api/persons",d=function(){return s.a.get(l).then((function(e){return e.data}))},j=function(e){return s.a.post(l,e).then((function(e){return e.data}))},b=function(e){return s.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},h=function(e){var n=e.person,t=e.deletion;return Object(c.jsxs)("li",{children:[n.name+" "+n.number," ",Object(c.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]})},f=function(e){var n=e.persons,t=e.filter,a=e.deletion;return Object(c.jsx)("ul",{children:n.filter((function(e){return e.name.toUpperCase().includes(t.toUpperCase())})).map((function(e){return Object(c.jsx)(h,{person:e,deletion:a},e.name)}))})},m=function(e){return Object(c.jsxs)("form",{onSubmit:e.addContact,children:["name: ",Object(c.jsx)("input",{value:e.newName,onChange:e.handleNameChange}),Object(c.jsxs)("div",{children:[" number: ",Object(c.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})," "]}),Object(c.jsx)("button",{type:"submit",children:"add"})]})},O=function(e){var n=e.filter,t=e.onFilterChange;return Object(c.jsxs)("p",{children:[" filter shown with ",Object(c.jsx)("input",{value:n,onChange:t})]})},p=function(e){var n=e.message;return null===n?null:Object(c.jsx)("div",{className:"message",children:n})},x=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],u=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),s=o[0],l=o[1],h=Object(a.useState)(""),x=Object(i.a)(h,2),g=x[0],v=x[1],C=Object(a.useState)(""),w=Object(i.a)(C,2),N=w[0],S=w[1],k=Object(a.useState)(null),y=Object(i.a)(k,2),D=y[0],E=y[1];Object(a.useEffect)((function(){d().then((function(e){u(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{message:D}),Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(O,{filter:N,onFilterChange:function(e){S(e.target.value)}}),Object(c.jsx)("h1",{children:"Add new contact"}),Object(c.jsx)(m,{addContact:function(e){(e.preventDefault(),function(e,n){return e.map((function(e){return e.name})).includes(n)}(t,s))?alert("".concat(s," is already added to phonebook")):j({name:s,number:g}).then((function(e){u(t.concat(e)),E("".concat(s," was added")),setTimeout((function(){E(null)}),3e3),l(""),v("")}))},handleNameChange:function(e){l(e.target.value)},handleNumberChange:function(e){v(e.target.value)},newName:s,newNumber:g}),Object(c.jsx)("h1",{children:"Numbers"}),Object(c.jsx)(f,{persons:t,filter:N,deletion:function(e){window.confirm(" Delete ".concat(e.name,"?"))&&(b(e.id).then(u(t.filter((function(n){return n.id!==e.id})))),E("".concat(e.name," was deleted")),setTimeout((function(){E(null)}),3e3))}})]})};t(37);r.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.552a1f45.chunk.js.map